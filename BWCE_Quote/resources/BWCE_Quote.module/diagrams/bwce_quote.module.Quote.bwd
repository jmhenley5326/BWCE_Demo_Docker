<process-dir height="577" id="bwce_quote.module.Quote" name="bwce_quote.module.Quote" type="process" width="657" x="140" y="20">
<partnerLinks>
<partner-link id="quote" myRole="use" name="quote" partnerLinkType="partnerLinkType" partnerType="bw.rest"/>
<partner-link id="GenerateQuote" name="GenerateQuote" partnerLinkType="partnerLinkType1" partnerRole="use"/>
</partnerLinks>
<ProcessInfo createdBy="jasonhenley" createdOn="Wed Apr 20 19:54:56 CDT 2016" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="1.0.0 V48 2015-11-20" scalable="true" singleton="true" stateless="true" type="IT"/>
<pick collapse="false" createInstance="true" height="528" id="dfd8b3c4-ad77-460a-8a96-5279a81d1455" name="pick" type="pick" width="505" x="76" y="44">
<on-message height="208" id="1b774915-f5b8-419e-986a-c881f9b78694" input="true" operation="post" output="true" partner-link="quote" portType="quote" type="onMessage" variable="post" width="487" x="9" y="11">
<activity-dir height="16" id="e802db88-cf59-4d87-8fd3-8d8ab5a4f608" name="OnMessageStart" type="onMessageStart" width="16" x="-19" y="63"/>
<activity-dir height="48" id="1376f51c-1240-450d-8264-b069db815668" name="postOut" operation="post" partnerLink="quote" portType="quote" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="postOut-input" width="48" x="308" y="34">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420195456PLT&quot; xmlns:tns1=&quot;http://www.example.org/Quote&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns3=&quot;http://tns.tibco.com/bw/REST&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;GenerateQuote&quot;/&gt;&lt;xsl:template name=&quot;postOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:postResponse&gt;&lt;quote&gt;&lt;tns1:Quote&gt;&lt;tns1:QuoteId&gt;&lt;xsl:value-of select=&quot;$GenerateQuote/parameters/tns2:GenerateQuoteResponse/Quote/tns1:QuoteId&quot;/&gt;&lt;/tns1:QuoteId&gt;&lt;tns1:CustomerId&gt;&lt;xsl:value-of select=&quot;$GenerateQuote/parameters/tns2:GenerateQuoteResponse/Quote/tns1:CustomerId&quot;/&gt;&lt;/tns1:CustomerId&gt;&lt;tns1:TotalPrice&gt;&lt;xsl:value-of select=&quot;$GenerateQuote/parameters/tns2:GenerateQuoteResponse/Quote/tns1:TotalPrice&quot;/&gt;&lt;/tns1:TotalPrice&gt;&lt;xsl:for-each select=&quot;$GenerateQuote/parameters/tns2:GenerateQuoteResponse/Quote/tns1:LineItems&quot;&gt;&lt;tns1:LineItems&gt;&lt;tns1:productId&gt;&lt;xsl:value-of select=&quot;tns1:productId&quot;/&gt;&lt;/tns1:productId&gt;&lt;tns1:quantity&gt;&lt;xsl:value-of select=&quot;tns1:quantity&quot;/&gt;&lt;/tns1:quantity&gt;&lt;xsl:if test=&quot;tns1:unitPrice&quot;&gt;&lt;tns1:unitPrice&gt;&lt;xsl:value-of select=&quot;tns1:unitPrice&quot;/&gt;&lt;/tns1:unitPrice&gt;&lt;/xsl:if&gt;&lt;/tns1:LineItems&gt;&lt;/xsl:for-each&gt;&lt;/tns1:Quote&gt;&lt;/quote&gt;&lt;status&gt;&lt;tns3:statusLine&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;200&quot;/&gt;&lt;/statusCode&gt;&lt;/tns3:statusLine&gt;&lt;/status&gt;&lt;/tns:postResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420195456PLT&quot; xmlns:tns1=&quot;http://www.example.org/Quote&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns3=&quot;http://tns.tibco.com/bw/REST&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;GenerateQuote.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;postOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:Quote&gt;&#10;            &lt;tns1:QuoteId&gt;&#10;                &lt;xsl:value-of select=&quot;$GenerateQuote.parameters/Quote/tns1:QuoteId&quot;/&gt;&#10;            &lt;/tns1:QuoteId&gt;&#10;            &lt;tns1:CustomerId&gt;&#10;                &lt;xsl:value-of select=&quot;$GenerateQuote.parameters/Quote/tns1:CustomerId&quot;/&gt;&#10;            &lt;/tns1:CustomerId&gt;&#10;            &lt;tns1:TotalPrice&gt;&#10;                &lt;xsl:value-of select=&quot;$GenerateQuote.parameters/Quote/tns1:TotalPrice&quot;/&gt;&#10;            &lt;/tns1:TotalPrice&gt;&#10;            &lt;xsl:for-each select=&quot;$GenerateQuote.parameters/Quote/tns1:LineItems&quot;&gt;&#10;                &lt;tns1:LineItems&gt;&#10;                    &lt;tns1:productId&gt;&#10;                        &lt;xsl:value-of select=&quot;tns1:productId&quot;/&gt;&#10;                    &lt;/tns1:productId&gt;&#10;                    &lt;tns1:quantity&gt;&#10;                        &lt;xsl:value-of select=&quot;tns1:quantity&quot;/&gt;&#10;                    &lt;/tns1:quantity&gt;&#10;                    &lt;xsl:if test=&quot;tns1:unitPrice&quot;&gt;&#10;                        &lt;tns1:unitPrice&gt;&#10;                            &lt;xsl:value-of select=&quot;tns1:unitPrice&quot;/&gt;&#10;                        &lt;/tns1:unitPrice&gt;&#10;                    &lt;/xsl:if&gt;&#10;                &lt;/tns1:LineItems&gt;&#10;            &lt;/xsl:for-each&gt;&#10;        &lt;/tns1:Quote&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="7f8a7103-9422-43a3-9c70-40cd1937281f" label="" linkType="SUCCESS" name="InvokeTopostOut" points="[[238,58],[308,58]]" source="13b15a52-57cb-4076-9572-515bfbd18746" target="1376f51c-1240-450d-8264-b069db815668"/>
<activity-dir height="48" id="13b15a52-57cb-4076-9572-515bfbd18746" inputVariable="GenerateQuote-input" name="GenerateQuote" outputVariable="GenerateQuote" partnerLink="GenerateQuote" portType="GenerateQuoteService" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="189" y="34">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/QuoteRequest&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;post&quot;/&gt;&lt;xsl:template name=&quot;Invoke-input&quot; match=&quot;/&quot;&gt;&lt;tns1:GenerateQuoteRequest&gt;&lt;parameters&gt;&lt;tns1:GenerateQuoteRequest&gt;&lt;QuoteRequest&gt;&lt;tns:CustomerId&gt;&lt;xsl:value-of select=&quot;$post/quoteRequest/tns:QuoteRequest/tns:CustomerId&quot;/&gt;&lt;/tns:CustomerId&gt;&lt;xsl:for-each select=&quot;$post/quoteRequest/tns:QuoteRequest/tns:LineItems&quot;&gt;&lt;tns:LineItems&gt;&lt;tns:productId&gt;&lt;xsl:value-of select=&quot;tns:productId&quot;/&gt;&lt;/tns:productId&gt;&lt;tns:quantity&gt;&lt;xsl:value-of select=&quot;tns:quantity&quot;/&gt;&lt;/tns:quantity&gt;&lt;/tns:LineItems&gt;&lt;/xsl:for-each&gt;&lt;/QuoteRequest&gt;&lt;/tns1:GenerateQuoteRequest&gt;&lt;/parameters&gt;&lt;/tns1:GenerateQuoteRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/QuoteRequest&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;post.quoteRequest&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Invoke-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:GenerateQuoteRequest&gt;&#10;            &lt;QuoteRequest&gt;&#10;                &lt;tns:CustomerId&gt;&#10;                    &lt;xsl:value-of select=&quot;$post.quoteRequest/tns:CustomerId&quot;/&gt;&#10;                &lt;/tns:CustomerId&gt;&#10;                &lt;xsl:for-each select=&quot;$post.quoteRequest/tns:LineItems&quot;&gt;&#10;                    &lt;tns:LineItems&gt;&#10;                        &lt;tns:productId&gt;&#10;                            &lt;xsl:value-of select=&quot;tns:productId&quot;/&gt;&#10;                        &lt;/tns:productId&gt;&#10;                        &lt;tns:quantity&gt;&#10;                            &lt;xsl:value-of select=&quot;tns:quantity&quot;/&gt;&#10;                        &lt;/tns:quantity&gt;&#10;                    &lt;/tns:LineItems&gt;&#10;                &lt;/xsl:for-each&gt;&#10;            &lt;/QuoteRequest&gt;&#10;        &lt;/tns1:GenerateQuoteRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="1e75a15c-19c8-4522-a7ce-01df67fe52f3" label="" linkType="SUCCESS" name="Log1ToGenerateQuote" points="[[124,58],[189,58]]" source="364b1eff-003a-47ea-89c4-1f50c4300e7f" target="13b15a52-57cb-4076-9572-515bfbd18746"/>
<activity-dir height="48" id="364b1eff-003a-47ea-89c4-1f50c4300e7f" name="Log1" type="bw.generalactivities.log" width="48" x="75" y="34">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns1=&quot;http://www.example.org/QuoteRequest&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;post&quot;/&gt;&lt;xsl:template name=&quot;Log1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Received Quote Request: &amp;quot;, tib:render-xml($post/quoteRequest/tns1:QuoteRequest, true(), true()))&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns1=&quot;http://www.example.org/QuoteRequest&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;post.quoteRequest&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Log1-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot;Received Quote Request: &amp;quot;, tib:render-xml($post.quoteRequest, true(), true()))&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<catch faultName="Fault" faultVariable="Fault" height="178" id="67b08467-cb66-406e-bc8e-3907fd06020e" messageType="GenerateQuoteFault" type="catch" width="386" x="42" y="197">
<activity-dir height="48" id="4da24c7e-79aa-4025-9cbf-d8c9fd59b73b" name="Reply" operation="post" partnerLink="quote" portType="quote" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply-input" width="48" x="231" y="19">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420195456PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;Fault&quot;/&gt;&lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&lt;tns:post4XXFaultMessage&gt;&lt;clientError&gt;&lt;tns1:client4XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;400&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$Fault/parameters/tns2:GenerateQuoteFault/fault&quot;/&gt;&lt;/message&gt;&lt;/tns1:client4XXError&gt;&lt;/clientError&gt;&lt;/tns:post4XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420195456PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;Fault.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:client4XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;400&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;$Fault.parameters/fault&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:client4XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="5d51e775-ceda-454a-b6b4-f89d5d9d6684" label="" linkType="SUCCESS" name="LogToReply" points="[[126,43],[231,43]]" source="8760ff67-8e0c-4d0e-8591-7b834d97c5e2" target="4da24c7e-79aa-4025-9cbf-d8c9fd59b73b"/>
<activity-dir height="48" id="8760ff67-8e0c-4d0e-8591-7b834d97c5e2" name="Log" type="bw.generalactivities.log" width="48" x="77" y="19">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;Fault&quot;/&gt;&lt;xsl:template name=&quot;Log-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$Fault/parameters/tns1:GenerateQuoteFault/fault&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;Fault.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Log-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;$Fault.parameters/fault&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
</catch>
<catch-all faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="127" id="cbf867f2-c206-4173-829d-209cbbba6172" type="catchAll" width="386" x="42" y="375">
<activity-dir height="48" id="73871ea0-4969-40d5-a05a-95b68ca32ee9" name="Reply1" operation="post" partnerLink="quote" portType="quote" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply1-input" width="48" x="267" y="34">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420195456PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply1-input&quot; match=&quot;/&quot;&gt;&lt;tns:post5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;500&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$FaultDetails/StackTrace&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:post5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420195456PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply1-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;500&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;$FaultDetails/StackTrace&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
</catch-all>
<activity-dir height="16" id="256980c4-190d-4035-bd5f-77fb81a79f4e" name="OnMessageEnd" type="onMessageEnd" width="16" x="485" y="63"/>
</on-message>
</pick>
</process-dir>
