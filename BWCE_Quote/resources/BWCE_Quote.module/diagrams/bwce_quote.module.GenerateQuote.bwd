<process-dir height="672" id="bwce_quote.module.GenerateQuote" name="bwce_quote.module.GenerateQuote" type="process" width="1193" x="140" y="20">
<partnerLinks>
<partner-link id="GenerateQuoteService" myRole="use" name="GenerateQuoteService" partnerLinkType="partnerLinkType"/>
<partner-link id="inventory-productId" name="inventory-productId" partnerLinkType="partnerLinkType1" partnerRole="use"/>
<partner-link id="price-productId" name="price-productId" partnerLinkType="partnerLinkType2" partnerRole="use"/>
<partner-link id="product-productId" name="product-productId" partnerLinkType="partnerLinkType3" partnerRole="use"/>
<partner-link id="discount-custId" name="discount-custId" partnerLinkType="partnerLinkType4" partnerRole="use"/>
</partnerLinks>
<ProcessInfo createdBy="jasonhenley" createdOn="Wed Apr 20 16:09:16 CDT 2016" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="1.0.0 V48 2015-11-20" scalable="true" singleton="true" stateless="true" type="IT"/>
<customer-activity img="iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACf0lEQVR4nO2ZzUrDQBSFfQQfwUew&#10;CCIqNVZqxVBatbb+bHwEH6E7Xbioazfd2I0gunCnICLiRjd2IQpWRXwAEVdtr3PqDA2lSSfJjHVq&#10;A3eZe843SU5uJgNENGBydd1AH6DbBvoAQU7aikU2WJGm2tAKwAQGWX1cL6ToNbuutNATvaGhE6BQ&#10;sqeqL4rNo9ATvZlGXgsAazy0MzNCd5lMQ7CcWqKDsUklhV7oid7QgJYOgPPjZLwqVuwkGlMGgF6i&#10;LzSgpRSANbR246P0sLzSELmxU8rMi0JP9IYGtKCpDGA7Fnk7S9s1CDxlVulwPOpqpNPhdh56ojc0&#10;oAVNJQBsJTb35iaokvu5xFcJ23MlcZRjibblBYBCb2hAC5rQDgWASGMr8Sli83Ex1/FWCAOAgoaI&#10;VWh7xaoMQLFkWzURm6fTs9oBoNGMVauG6A4EwE4cDhKbYQFcYnXYNwC7fJcs0up+Y1MFQEus1uHF&#10;FwAjTiPKKrk137GpAsAZq/DAYzUtDcCI3y8WkiQTm7oAnLEKL/AkBYBZBBH2nJWLTV0AKBGr8MJj&#10;Ne8JgBmEkX7dLi1Kx6ZOAJSIVXiCN2estrt1SvvzVt1PbOoGcMYqvMFjWwDMHois+2wu1LSpGgAl&#10;YhXenLHauvrXR8k4hZ02dQA4YxUe4bX3AMSb15BbyOq9h5ia02foGPU6/PZrE6NDWl9kKsv3i8xx&#10;K4UaJVRcgcCjBPXCMEemj9NEPfBBwyEKf+CTsujmTwbA7I96DuF7W8XrkIlNZdsqjgdaemMraGnb&#10;2OJXweytRQ5h7uYuBzB7e51D5H/hB4frTpwKALN/MXEIc3/y/bXquoE+QLcN/HuAb6mFSwI4wEpV&#10;AAAAAElFTkSuQmCC" type="com.tibco.bw.core.design.process.editor.Activity_4002_Throw"/>
<customer-activity img="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&#10;RU5ErkJggg==" type="com.tibco.bw.core.design.process.editor.Activity_4002_Exit"/>
<activity-dir height="48" id="b1522640-175c-4f5c-889b-3324fa88b165" name="End" operation="GenerateQuote" partnerLink="GenerateQuoteService" portType="GenerateQuoteService" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="operationOut-input" width="48" x="1004" y="309">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns1=&quot;http://www.example.org/Quote&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:tns5=&quot;http://www.example.org/QuoteRequest&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;TotalPrice&quot;/&gt;&lt;xsl:param name=&quot;LineItems&quot;/&gt;&lt;xsl:param name=&quot;Receive&quot;/&gt;&lt;xsl:template name=&quot;operationOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:GenerateQuoteResponse&gt;&lt;parameters&gt;&lt;tns:GenerateQuoteResponse&gt;&lt;Quote&gt;&lt;tns1:QuoteId&gt;&lt;xsl:value-of select=&quot;tib:random(10000, 99999)&quot;/&gt;&lt;/tns1:QuoteId&gt;&lt;tns1:CustomerId&gt;&lt;xsl:value-of select=&quot;$Receive/parameters/tns:GenerateQuoteRequest/QuoteRequest/tns5:CustomerId&quot;/&gt;&lt;/tns1:CustomerId&gt;&lt;tns1:TotalPrice&gt;&lt;xsl:value-of select=&quot;$TotalPrice&quot;/&gt;&lt;/tns1:TotalPrice&gt;&lt;xsl:for-each select=&quot;$LineItems/tns1:LineItem&quot;&gt;&lt;tns1:LineItems&gt;&lt;tns1:productId&gt;&lt;xsl:value-of select=&quot;tns1:productId&quot;/&gt;&lt;/tns1:productId&gt;&lt;tns1:quantity&gt;&lt;xsl:value-of select=&quot;tns1:quantity&quot;/&gt;&lt;/tns1:quantity&gt;&lt;xsl:if test=&quot;tns1:unitPrice&quot;&gt;&lt;tns1:unitPrice&gt;&lt;xsl:value-of select=&quot;tns1:unitPrice&quot;/&gt;&lt;/tns1:unitPrice&gt;&lt;/xsl:if&gt;&lt;/tns1:LineItems&gt;&lt;/xsl:for-each&gt;&lt;/Quote&gt;&lt;/tns:GenerateQuoteResponse&gt;&lt;/parameters&gt;&lt;/tns:GenerateQuoteResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns1=&quot;http://www.example.org/Quote&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:tns5=&quot;http://www.example.org/QuoteRequest&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;Receive.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;TotalPrice&quot;/&gt;&#10;    &lt;xsl:param name=&quot;LineItems&quot;/&gt;&#10;    &lt;xsl:template name=&quot;operationOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:GenerateQuoteResponse&gt;&#10;            &lt;Quote&gt;&#10;                &lt;tns1:QuoteId&gt;&#10;                    &lt;xsl:value-of select=&quot;tib:random(10000, 99999)&quot;/&gt;&#10;                &lt;/tns1:QuoteId&gt;&#10;                &lt;tns1:CustomerId&gt;&#10;                    &lt;xsl:value-of select=&quot;$Receive.parameters/QuoteRequest/tns5:CustomerId&quot;/&gt;&#10;                &lt;/tns1:CustomerId&gt;&#10;                &lt;tns1:TotalPrice&gt;&#10;                    &lt;xsl:value-of select=&quot;$TotalPrice&quot;/&gt;&#10;                &lt;/tns1:TotalPrice&gt;&#10;                &lt;xsl:for-each select=&quot;$LineItems/tns1:LineItem&quot;&gt;&#10;                    &lt;tns1:LineItems&gt;&#10;                        &lt;tns1:productId&gt;&#10;                            &lt;xsl:value-of select=&quot;tns1:productId&quot;/&gt;&#10;                        &lt;/tns1:productId&gt;&#10;                        &lt;tns1:quantity&gt;&#10;                            &lt;xsl:value-of select=&quot;tns1:quantity&quot;/&gt;&#10;                        &lt;/tns1:quantity&gt;&#10;                        &lt;xsl:if test=&quot;tns1:unitPrice&quot;&gt;&#10;                            &lt;tns1:unitPrice&gt;&#10;                                &lt;xsl:value-of select=&quot;tns1:unitPrice&quot;/&gt;&#10;                            &lt;/tns1:unitPrice&gt;&#10;                        &lt;/xsl:if&gt;&#10;                    &lt;/tns1:LineItems&gt;&#10;                &lt;/xsl:for-each&gt;&#10;            &lt;/Quote&gt;&#10;        &lt;/tns:GenerateQuoteResponse&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="fb307bad-5780-46d0-a42a-5efe2df3d128" label="" linkType="SUCCESS" name="getCustomerDiscountToAssign1" points="[[851,333],[905,333]]" source="c4d9f48d-6f3c-4243-86a7-07ce6803bac5" target="6ba449ce-9d1d-4c27-a2c6-038ef141eb0d"/>
<activity-dir height="48" id="c4d9f48d-6f3c-4243-86a7-07ce6803bac5" inputVariable="getCustomerDiscount-input" name="getCustomerDiscount" outputVariable="getCustomerDiscount" partnerLink="discount-custId" portType="discount-custId" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="802" y="309">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns3=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:tns4=&quot;http://www.example.org/Quote&quot; xmlns:tns5=&quot;http://www.example.org/QuoteRequest&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;Receive&quot;/&gt;&lt;xsl:template name=&quot;getCustomerDiscount-input&quot; match=&quot;/&quot;&gt;&lt;tns:getRequest3&gt;&lt;httpHeaders&gt;&lt;tns1:httpHeaders&gt;&lt;DynamicHeaders&gt;&lt;Header&gt;&lt;Name&gt;&lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&lt;/Name&gt;&lt;Value&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&lt;/Value&gt;&lt;/Header&gt;&lt;/DynamicHeaders&gt;&lt;/tns1:httpHeaders&gt;&lt;/httpHeaders&gt;&lt;parameters&gt;&lt;tns3:discount-custIdGetParameters&gt;&lt;custId&gt;&lt;xsl:value-of select=&quot;$Receive/parameters/tns2:GenerateQuoteRequest/QuoteRequest/tns5:CustomerId&quot;/&gt;&lt;/custId&gt;&lt;/tns3:discount-custIdGetParameters&gt;&lt;/parameters&gt;&lt;/tns:getRequest3&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns3=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:tns4=&quot;http://www.example.org/Quote&quot; xmlns:tns5=&quot;http://www.example.org/QuoteRequest&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;getCustomerDiscount-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:httpHeaders&gt;&#10;            &lt;DynamicHeaders&gt;&#10;                &lt;Header&gt;&#10;                    &lt;Name&gt;&#10;                        &lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&#10;                    &lt;/Name&gt;&#10;                    &lt;Value&gt;&#10;                        &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&#10;                    &lt;/Value&gt;&#10;                &lt;/Header&gt;&#10;            &lt;/DynamicHeaders&gt;&#10;        &lt;/tns1:httpHeaders&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="79669daa-0aae-4d28-ac35-d7ce9a21f8eb" label="" linkType="SUCCESS" name="Assign1ToEnd" points="[[954,333],[1004,333]]" source="6ba449ce-9d1d-4c27-a2c6-038ef141eb0d" target="b1522640-175c-4f5c-889b-3324fa88b165"/>
<activity-dir height="48" id="6ba449ce-9d1d-4c27-a2c6-038ef141eb0d" name="ApplyDiscount" type="bw.generalactivities.bwassign" width="48" x="905" y="309">
<inputBinding expression="$TotalPrice - ($TotalPrice * xsd:double($getCustomerDiscount/item))"/>
<partBinding expression="$TotalPrice - ($TotalPrice * xsd:double($getCustomerDiscount.item))"/>
<BWActivity activityTypeID="bw.generalactivities.bwassign">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
<value processVariable="TotalPrice" type="generalactivities:BWAssign"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<link-dir id="e4dcf923-bb82-4303-acb4-6d80c544d14e" label="" linkType="SUCCESS" name="ForEach1TogetCustomerDiscount" points="[[732,323],[736,323],[736,333],[802,333]]" source="4125b60a-d858-4520-8852-3aee3965e351" target="c4d9f48d-6f3c-4243-86a7-07ce6803bac5"/>
<scope collapse="false" group="foreach" height="320" id="4125b60a-d858-4520-8852-3aee3965e351" name="ForEach" type="bpel.scope" width="506" x="225" y="44">
<forEach counterName="index" parallel="false">
<startCounterValue/>
<finalCounterValue/>
</forEach>
<link-dir id="e668a0dd-473b-49ce-afe4-3ad4f298d47b" label="" linkType="SUCCESS" name="Copy_1_checkInventoryToCopy_1_getPrice" points="[[178,137],[217,137]]" source="7205a5d2-9f27-4b73-b1a9-3d6d164b6c9d" target="ac42b214-f43e-4195-98b4-4f6fbc07a9b8"/>
<link-dir id="9a78145c-4114-45e5-8996-250526834646" label="" linkType="SUCCESSWITHCONDITION" name="checkInventoryToThrow" points="[[178,137],[194,137],[194,217],[211,217]]" source="7205a5d2-9f27-4b73-b1a9-3d6d164b6c9d" target="31bc896e-c582-4a73-8c83-9c224d9acaa8"/>
<activity-dir height="48" id="7205a5d2-9f27-4b73-b1a9-3d6d164b6c9d" inputVariable="checkInventory-input" name="checkInventory" outputVariable="checkInventory" partnerLink="inventory-productId" portType="inventory-productId" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="129" y="113">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;productId&quot;/&gt;&lt;xsl:template name=&quot;checkInventory-input&quot; match=&quot;/&quot;&gt;&lt;tns:getRequest&gt;&lt;httpHeaders&gt;&lt;tns2:httpHeaders&gt;&lt;DynamicHeaders&gt;&lt;Header&gt;&lt;Name&gt;&lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&lt;/Name&gt;&lt;Value&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&lt;/Value&gt;&lt;/Header&gt;&lt;/DynamicHeaders&gt;&lt;/tns2:httpHeaders&gt;&lt;/httpHeaders&gt;&lt;parameters&gt;&lt;tns1:inventory-productIdGetParameters&gt;&lt;productId&gt;&lt;xsl:value-of select=&quot;$productId&quot;/&gt;&lt;/productId&gt;&lt;/tns1:inventory-productIdGetParameters&gt;&lt;/parameters&gt;&lt;/tns:getRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;checkInventory-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:httpHeaders&gt;&#10;            &lt;DynamicHeaders&gt;&#10;                &lt;Header&gt;&#10;                    &lt;Name&gt;&#10;                        &lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&#10;                    &lt;/Name&gt;&#10;                    &lt;Value&gt;&#10;                        &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&#10;                    &lt;/Value&gt;&#10;                &lt;/Header&gt;&#10;            &lt;/DynamicHeaders&gt;&#10;        &lt;/tns2:httpHeaders&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="5b28aee1-7dcf-4aad-9f8c-cba7bdfc0763" label="" linkType="SUCCESS" name="Copy_1_getPriceToCopy_1_Assign" points="[[266,137],[306,137]]" source="ac42b214-f43e-4195-98b4-4f6fbc07a9b8" target="156b9478-9317-4e84-bb10-704d738ede60"/>
<activity-dir height="48" id="ac42b214-f43e-4195-98b4-4f6fbc07a9b8" inputVariable="getPrice-input" name="getPrice" outputVariable="getPrice" partnerLink="price-productId" portType="price-productId" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="217" y="113">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;productId&quot;/&gt;&lt;xsl:template name=&quot;getPrice-input&quot; match=&quot;/&quot;&gt;&lt;tns:getRequest1&gt;&lt;httpHeaders&gt;&lt;tns2:httpHeaders&gt;&lt;DynamicHeaders&gt;&lt;Header&gt;&lt;Name&gt;&lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&lt;/Name&gt;&lt;Value&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&lt;/Value&gt;&lt;/Header&gt;&lt;/DynamicHeaders&gt;&lt;/tns2:httpHeaders&gt;&lt;/httpHeaders&gt;&lt;parameters&gt;&lt;tns1:price-productIdGetParameters&gt;&lt;productId&gt;&lt;xsl:value-of select=&quot;$productId&quot;/&gt;&lt;/productId&gt;&lt;/tns1:price-productIdGetParameters&gt;&lt;/parameters&gt;&lt;/tns:getRequest1&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;getPrice-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:httpHeaders&gt;&#10;            &lt;DynamicHeaders&gt;&#10;                &lt;Header&gt;&#10;                    &lt;Name&gt;&#10;                        &lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&#10;                    &lt;/Name&gt;&#10;                    &lt;Value&gt;&#10;                        &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&#10;                    &lt;/Value&gt;&#10;                &lt;/Header&gt;&#10;            &lt;/DynamicHeaders&gt;&#10;        &lt;/tns2:httpHeaders&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="66442b23-fc68-442b-90cf-31bc00d52041" label="" linkType="SUCCESS" name="Copy_1_AssignToCopy_1_BuildLineItem" points="[[355,137],[386,137]]" source="156b9478-9317-4e84-bb10-704d738ede60" target="5ec75732-47c8-485a-a34e-05473c72ca90"/>
<activity-dir height="48" id="156b9478-9317-4e84-bb10-704d738ede60" name="UpdateTotalPrice" type="bw.generalactivities.bwassign" width="48" x="306" y="113">
<inputBinding expression="$TotalPrice + (xsd:double($getPrice/item) * $Receive/parameters/ns1:GenerateQuoteRequest/QuoteRequest/tns1:LineItems[xsd:integer($index)]/tns1:quantity)"/>
<partBinding expression="$TotalPrice + (xsd:double($getPrice.item) * $Receive.parameters/QuoteRequest/tns1:LineItems[xsd:integer($index)]/tns1:quantity)"/>
<BWActivity activityTypeID="bw.generalactivities.bwassign">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
<value processVariable="TotalPrice" type="generalactivities:BWAssign"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<link-dir id="af069e8c-1eac-4828-9cd4-1e2639e3f5ee" label="" linkType="SUCCESS" name="Copy_1_BuildLineItemToGroupEnd" points="[[386,137],[236,137],[236,14],[75,14]]" source="5ec75732-47c8-485a-a34e-05473c72ca90" target="5b1e0230-4f24-4a75-8689-31ec3a275189"/>
<activity-dir height="48" id="5ec75732-47c8-485a-a34e-05473c72ca90" name="BuildLineItem" type="bw.generalactivities.mapper" width="48" x="386" y="113">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Quote&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns2=&quot;http://www.example.org/QuoteRequest&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;index&quot;/&gt;&lt;xsl:param name=&quot;getPrice&quot;/&gt;&lt;xsl:param name=&quot;Receive&quot;/&gt;&lt;xsl:param name=&quot;productId&quot;/&gt;&lt;xsl:template name=&quot;BuildLineItem-input&quot; match=&quot;/&quot;&gt;&lt;tns:LineItem&gt;&lt;xsl:variable name=&quot;var&quot; select=&quot;xsd:integer($index)&quot;/&gt;&lt;tns:productId&gt;&lt;xsl:value-of select=&quot;$productId&quot;/&gt;&lt;/tns:productId&gt;&lt;tns:quantity&gt;&lt;xsl:value-of select=&quot;$Receive/parameters/tns1:GenerateQuoteRequest/QuoteRequest/tns2:LineItems[$var]/tns2:quantity&quot;/&gt;&lt;/tns:quantity&gt;&lt;tns:unitPrice&gt;&lt;xsl:value-of select=&quot;xsd:double($getPrice/item)&quot;/&gt;&lt;/tns:unitPrice&gt;&lt;/tns:LineItem&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Quote&quot; xmlns:tns1=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns2=&quot;http://www.example.org/QuoteRequest&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getPrice.item&quot;/&gt;&#10;    &lt;xsl:param name=&quot;Receive.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;index&quot;/&gt;&#10;    &lt;xsl:param name=&quot;productId&quot;/&gt;&#10;    &lt;xsl:template name=&quot;BuildLineItem-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:LineItem&gt;&#10;            &lt;xsl:variable name=&quot;var&quot; select=&quot;xsd:integer($index)&quot;/&gt;&#10;            &lt;tns:productId&gt;&#10;                &lt;xsl:value-of select=&quot;$productId&quot;/&gt;&#10;            &lt;/tns:productId&gt;&#10;            &lt;tns:quantity&gt;&#10;                &lt;xsl:value-of select=&quot;$Receive.parameters/QuoteRequest/tns2:LineItems[$var]/tns2:quantity&quot;/&gt;&#10;            &lt;/tns:quantity&gt;&#10;            &lt;tns:unitPrice&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:double($getPrice.item)&quot;/&gt;&#10;            &lt;/tns:unitPrice&gt;&#10;        &lt;/tns:LineItem&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.mapper" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
<value inputQName="Quote:LineItem" type="generalactivities:Mapper"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<link-dir id="900f9e57-68fe-44a0-8f79-76b7cdf7d1c6" label="" linkType="SUCCESS" name="Assign2ToCopy_1_checkInventory" points="[[95,137],[129,137]]" source="0790d562-f138-4efd-b559-b5f78116174a" target="7205a5d2-9f27-4b73-b1a9-3d6d164b6c9d"/>
<activity-dir height="48" id="0790d562-f138-4efd-b559-b5f78116174a" name="SetProductId" type="bw.generalactivities.bwassign" width="48" x="46" y="113">
<inputBinding expression="$Receive/parameters/ns1:GenerateQuoteRequest/QuoteRequest/tns1:LineItems[xsd:integer($index)]/tns1:productId"/>
<partBinding expression="$Receive.parameters/QuoteRequest/tns1:LineItems[xsd:integer($index)]/tns1:productId"/>
<BWActivity activityTypeID="bw.generalactivities.bwassign">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
<value processVariable="productId" type="generalactivities:BWAssign"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<activity-dir height="48" id="31bc896e-c582-4a73-8c83-9c224d9acaa8" name="InsufficientInventory" type="com.tibco.bw.core.design.process.editor.Activity_4002_Throw" width="48" x="211" y="193">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://schemas.tibco.com/bw/plugins/basic/6.0/Exceptions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;productId&quot;/&gt;&lt;xsl:template name=&quot;Throw-input&quot; match=&quot;/&quot;&gt;&lt;tns:DefaultFault&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$productId&quot;/&gt;&lt;/message&gt;&lt;/tns:DefaultFault&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://schemas.tibco.com/bw/plugins/basic/6.0/Exceptions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;productId&quot;/&gt;&lt;xsl:template name=&quot;Throw-input&quot; match=&quot;/&quot;&gt;&lt;tns:DefaultFault&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$productId&quot;/&gt;&lt;/message&gt;&lt;/tns:DefaultFault&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="92f3049f-d0d6-4e11-8df8-26ede51742e5" label="" linkType="SUCCESS" name="GroupStart1ToCopy_1_checkInventory" points="[[13,149],[31,149],[31,137],[46,137]]" source="26685656-2501-40d3-bc2f-1cac0fb4434e" target="0790d562-f138-4efd-b559-b5f78116174a"/>
<activity-dir height="16" id="26685656-2501-40d3-bc2f-1cac0fb4434e" name="GroupStart1" type="groupStart" width="16" x="-7" y="141"/>
<activity-dir height="48" id="5b1e0230-4f24-4a75-8689-31ec3a275189" name="LineItems" type="bw.internal.accumulateend" width="48" x="26" y="-10">
<BWActivity activityTypeID="bw.internal.accumulateend">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/core/internalactivity#//AccumulateEnd"/>
<value type="internalactivities:AccumulateEnd">
<activityNames/>
</value>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<catch faultElement="DefaultFault" faultName="DefaultFault" faultVariable="DefaultFault" height="118" id="9512bd6f-d09a-4537-b0d8-e6ffc63f3e5a" type="catch" width="456" x="25" y="310">
<link-dir id="ac638f40-b46e-47c4-8031-6b883eaf3204" label="" linkType="SUCCESS" name="getToReply" points="[[224,47],[283,47]]" source="8e66e37d-0aff-49ed-bb64-314f3faef14a" target="0132107d-89ea-48e2-a2b2-785565c82bfc"/>
<activity-dir height="48" id="8e66e37d-0aff-49ed-bb64-314f3faef14a" inputVariable="getProduct-input" name="getProduct" outputVariable="getProduct" partnerLink="product-productId" portType="product-productId" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="175" y="23">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;DefaultFault&quot;/&gt;&lt;xsl:template name=&quot;getProduct-input&quot; match=&quot;/&quot;&gt;&lt;tns:getRequest2&gt;&lt;httpHeaders&gt;&lt;tns1:httpHeaders&gt;&lt;DynamicHeaders&gt;&lt;Header&gt;&lt;Name&gt;&lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&lt;/Name&gt;&lt;Value&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&lt;/Value&gt;&lt;/Header&gt;&lt;/DynamicHeaders&gt;&lt;/tns1:httpHeaders&gt;&lt;/httpHeaders&gt;&lt;parameters&gt;&lt;tns2:product-productIdGetParameters&gt;&lt;productId&gt;&lt;xsl:value-of select=&quot;$DefaultFault/message&quot;/&gt;&lt;/productId&gt;&lt;/tns2:product-productIdGetParameters&gt;&lt;/parameters&gt;&lt;/tns:getRequest2&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns2=&quot;http://xmlns.example.com/20160420160916PLT/ConceptSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;getProduct-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:httpHeaders&gt;&#10;            &lt;DynamicHeaders&gt;&#10;                &lt;Header&gt;&#10;                    &lt;Name&gt;&#10;                        &lt;xsl:value-of select=&quot;&amp;quot;X-Api-Key&amp;quot;&quot;/&gt;&#10;                    &lt;/Name&gt;&#10;                    &lt;Value&gt;&#10;                        &lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;api_key&amp;quot;)&quot;/&gt;&#10;                    &lt;/Value&gt;&#10;                &lt;/Header&gt;&#10;            &lt;/DynamicHeaders&gt;&#10;        &lt;/tns1:httpHeaders&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="10e15520-c90c-4923-8094-65cc78e1c2c2" label="" linkType="SUCCESS" name="ReplyToExit1" points="[[332,47],[365,47]]" source="0132107d-89ea-48e2-a2b2-785565c82bfc" target="9c537307-eb2b-4874-8ce8-4728b3496667"/>
<activity-dir height="48" id="0132107d-89ea-48e2-a2b2-785565c82bfc" name="Reply" operation="GenerateQuote" partnerLink="GenerateQuoteService" portType="GenerateQuoteService" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply-input" width="48" x="283" y="23">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns1=&quot;fmc-productcat.pcfdemo.tibco.com:80/T1461187363685Converted/JsonSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getProduct&quot;/&gt;&lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&lt;tns:GenerateQuoteFault&gt;&lt;parameters&gt;&lt;tns:GenerateQuoteFault&gt;&lt;fault&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Insufficient Inventory for Product: &amp;quot;, $getProduct/item/tns1:Product/tns1:name)&quot;/&gt;&lt;/fault&gt;&lt;/tns:GenerateQuoteFault&gt;&lt;/parameters&gt;&lt;/tns:GenerateQuoteFault&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; xmlns:tns1=&quot;fmc-productcat.pcfdemo.tibco.com:80/T1461187363685Converted/JsonSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getProduct.item&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:GenerateQuoteFault&gt;&#10;            &lt;fault&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot;Insufficient Inventory for Product: &amp;quot;, $getProduct.item/tns1:name)&quot;/&gt;&#10;            &lt;/fault&gt;&#10;        &lt;/tns:GenerateQuoteFault&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<activity-dir height="48" id="9c537307-eb2b-4874-8ce8-4728b3496667" name="Exit1" type="com.tibco.bw.core.design.process.editor.Activity_4002_Exit" width="48" x="365" y="23"/>
<link-dir id="0e9f363d-11d3-4f7d-aa07-8517fc228118" label="" linkType="SUCCESS" name="LogTogetProduct" points="[[126,47],[175,47]]" source="612ccfa0-a9df-47ee-af5f-5f0f528af929" target="8e66e37d-0aff-49ed-bb64-314f3faef14a"/>
<activity-dir height="48" id="612ccfa0-a9df-47ee-af5f-5f0f528af929" name="Log" type="bw.generalactivities.log" width="48" x="77" y="23">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;DefaultFault&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;$FaultDetails/ActivityName&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$DefaultFault/message&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;DefaultFault&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;$FaultDetails/ActivityName&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$DefaultFault/message&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
</catch>
<catch-all faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="129" id="242f6173-6acd-470d-b654-e764033a9abe" type="catchAll" width="456" x="25" y="428">
<link-dir id="bfa89a9a-ed5a-4a57-a2df-a89c0db39a51" label="" linkType="SUCCESS" name="Reply1ToExit" points="[[256,53],[320,53]]" source="43c54eb9-257a-46cf-beeb-d6b3fadd09ae" target="8c654958-3eaf-490f-92ac-ff0014586ebe"/>
<activity-dir height="48" id="43c54eb9-257a-46cf-beeb-d6b3fadd09ae" name="Reply1" operation="GenerateQuote" partnerLink="GenerateQuoteService" portType="GenerateQuoteService" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply1-input" width="48" x="207" y="29">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply1-input&quot; match=&quot;/&quot;&gt;&lt;tns:GenerateQuoteFault&gt;&lt;parameters&gt;&lt;tns:GenerateQuoteFault&gt;&lt;fault&gt;&lt;xsl:value-of select=&quot;$FaultDetails/StackTrace&quot;/&gt;&lt;/fault&gt;&lt;/tns:GenerateQuoteFault&gt;&lt;/parameters&gt;&lt;/tns:GenerateQuoteFault&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply1-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:GenerateQuoteFault&gt;&#10;            &lt;fault&gt;&#10;                &lt;xsl:value-of select=&quot;$FaultDetails/StackTrace&quot;/&gt;&#10;            &lt;/fault&gt;&#10;        &lt;/tns:GenerateQuoteFault&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<activity-dir height="48" id="8c654958-3eaf-490f-92ac-ff0014586ebe" name="Exit" type="com.tibco.bw.core.design.process.editor.Activity_4002_Exit" width="48" x="320" y="29"/>
<link-dir id="930b331c-eb9a-4afa-8214-ef157008b97f" label="" linkType="SUCCESS" name="Log1ToReply1" points="[[135,53],[207,53]]" source="258ec846-92ad-49ed-9792-125433ff4094" target="43c54eb9-257a-46cf-beeb-d6b3fadd09ae"/>
<activity-dir height="48" id="258ec846-92ad-49ed-9792-125433ff4094" name="Log1" type="bw.generalactivities.log" width="48" x="86" y="29">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$FaultDetails/ActivityName&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$FaultDetails/ActivityName&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
</catch-all>
</scope>
<link-dir id="0a184e68-41b1-40a3-ba06-e63c54f435b4" label="" linkType="SUCCESS" name="ReceiveToForEach1" points="[[137,291],[211,291],[211,323],[225,323]]" source="bc5ef0ea-5570-42d1-863c-5ca5b4ae968e" target="4125b60a-d858-4520-8852-3aee3965e351"/>
<activity-dir createInstance="true" height="48" id="bc5ef0ea-5570-42d1-863c-5ca5b4ae968e" name="Receive" operation="GenerateQuote" partnerLink="GenerateQuoteService" portType="GenerateQuoteService" type="com.tibco.bw.core.design.process.editor.Activity_4002_Receive" variable="Receive" width="48" x="88" y="267">
<variable>
<wsdl:part element="tns:GenerateQuoteRequest" name="parameters"/>
</variable>
</activity-dir>
<catch-all faultDetailsVar="FaultDetails1" faultNameVar="FaultName1" height="177" id="0b5ca9df-7ecc-41d7-babb-9b65524af2cc" type="catchAll" width="1036" x="83" y="661">
<link-dir id="d124ef71-7467-4c68-ba22-a7b209f89b76" label="" linkType="SUCCESS" name="Reply2ToExit2" points="[[428,82],[584,82]]" source="f95513fe-ed17-451d-acf6-d129bff5651a" target="fd048bb5-72ae-46ea-b0f9-f8c8801478b8"/>
<activity-dir height="48" id="f95513fe-ed17-451d-acf6-d129bff5651a" name="Reply2" operation="GenerateQuote" partnerLink="GenerateQuoteService" portType="GenerateQuoteService" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply2-input" width="48" x="379" y="58">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails1&quot;/&gt;&lt;xsl:template name=&quot;Reply2-input&quot; match=&quot;/&quot;&gt;&lt;tns:GenerateQuoteFault&gt;&lt;parameters&gt;&lt;tns:GenerateQuoteFault&gt;&lt;fault&gt;&lt;xsl:value-of select=&quot;$FaultDetails1/StackTrace&quot;/&gt;&lt;/fault&gt;&lt;/tns:GenerateQuoteFault&gt;&lt;/parameters&gt;&lt;/tns:GenerateQuoteFault&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20160420160916&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails1&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply2-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:GenerateQuoteFault&gt;&#10;            &lt;fault&gt;&#10;                &lt;xsl:value-of select=&quot;$FaultDetails1/StackTrace&quot;/&gt;&#10;            &lt;/fault&gt;&#10;        &lt;/tns:GenerateQuoteFault&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<activity-dir height="48" id="fd048bb5-72ae-46ea-b0f9-f8c8801478b8" name="Exit2" type="com.tibco.bw.core.design.process.editor.Activity_4002_Exit" width="48" x="584" y="58"/>
<link-dir id="ca407763-dfe6-4ffb-8eaf-b9d4c35b74fe" label="" linkType="SUCCESS" name="Log2ToReply2" points="[[264,83],[321,83],[321,82],[379,82]]" source="991508fb-dcb0-4006-bdc2-cbc09e2b0327" target="f95513fe-ed17-451d-acf6-d129bff5651a"/>
<activity-dir height="48" id="991508fb-dcb0-4006-bdc2-cbc09e2b0327" name="Log2" type="bw.generalactivities.log" width="48" x="215" y="59">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails1&quot;/&gt;&lt;xsl:template name=&quot;Log2-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$FaultDetails1/ActivityName&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails1&quot;/&gt;&lt;xsl:template name=&quot;Log2-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;$FaultDetails1/ActivityName&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
</catch-all>
</process-dir>
